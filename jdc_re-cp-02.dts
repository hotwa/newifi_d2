/dts-v1/;

/ {
	#address-cells = <0x01>;
	#size-cells = <0x01>;
	compatible = "mediatek,mt7621-rfb\0mediatek,mt7621-soc";
	model = "MediaTek MT7621 reference board";

	chosen {
		stdout-path = "/palmbus/uartlite0@1e000c00";
	};

	aliases {
		spi0 = "/palmbus/spi@0x1e000b00";
	};

	memory {
		device_type = "memory";
		reg = <0x00 0x00>;
	};

	cpus {
		#address-cells = <0x01>;
		#size-cells = <0x00>;

		cpu@0 {
			device_type = "cpu";
			compatible = "mips,mips1004Kc";
			reg = <0x00>;
		};

		cpu@1 {
			device_type = "cpu";
			compatible = "mips,mips1004Kc";
			reg = <0x00>;
		};
	};

	sysclock50mhz@0 {
		compatible = "fixed-clock";
		clock-frequency = <0x2faf080>;
		#clock-cells = <0x00>;
		phandle = <0x03>;
	};

	palmbus {
		compatible = "simple-bus";
		ranges;
		#address-cells = <0x01>;
		#size-cells = <0x01>;

		reset@0x1e000034 {
			compatible = "mediatek,mt7621-reset";
			reg = <0x1e000034 0x04>;
			status = "okay";
			#reset-cells = <0x01>;
			phandle = <0x02>;
		};

		pinctrl@1e000048 {
			compatible = "mediatek,mt7621-pinctrl";
			reg = <0x1e000048 0x30>;
			pinctrl-names = "default";
			pinctrl-0 = <0x01>;

			pinmux_conf {
				phandle = <0x01>;

				uart1 {
					groups = "uart1";
					function = "uart1";
				};

				gpio {
					groups = "i2c\0uart2\0uart3\0pcie";
					function = "gpio";
				};

				jtag {
					groups = "jtag";
					function = "jtag";
				};

				wdt {
					groups = "wdt";
					function = "wdt rst";
				};

				mdio {
					groups = "mdio";
					function = "mdio";
				};

				mdio_pconf {
					groups = "mdio";
					drive-strength = <0x02>;
				};

				rgmii2 {
					groups = "rgmii2";
					function = "rgmii2";
				};

				rgmii1 {
					groups = "rgmii1";
					function = "rgmii1";
				};

				esw {
					groups = "esw";
					function = "esw int";
				};

				spi {
					groups = "spi";
					function = "spi";
				};

				sdhci {
					groups = "sdhci";
					function = "sdhci";
				};
			};
		};

		gpio@0x1e000600 {
			compatible = "mediatek,mt7621-gpio";
			reg = <0x1e000600 0x100>;
			bank-name = "mt7621-gpio";
			resets = <0x02 0x0d>;
			status = "okay";
			gpio-controller;
			#gpio-cells = <0x02>;
			phandle = <0x04>;
		};

		spi@0x1e000b00 {
			compatible = "mediatek,mt7621-spi";
			reg = <0x1e000b00 0x100>;
			resets = <0x02 0x12>;
			status = "okay";
			#address-cells = <0x01>;
			#size-cells = <0x00>;
			spi-max-frequency = <0x17d7840>;

			spi-flash@0 {
				#address-cells = <0x01>;
				#size-cells = <0x01>;
				compatible = "spi-flash";
				spi-max-frequency = <0x17d7840>;
				reg = <0x00>;
			};
		};

		uartlite0@1e000c00 {
			compatible = "mediatek,hsuart\0ns16550";
			reg = <0x1e000c00 0x100>;
			reg-shift = <0x02>;
			clock-frequency = <0x2faf080>;
			resets = <0x02 0x13>;
			status = "okay";
		};

		uartlite0@1e000d00 {
			compatible = "mediatek,hsuart\0ns16550";
			reg = <0x1e000d00 0x100>;
			reg-shift = <0x02>;
			clock-frequency = <0x2faf080>;
			resets = <0x02 0x14>;
			status = "disabled";
		};

		uartlite0@1e000e00 {
			compatible = "mediatek,hsuart\0ns16550";
			reg = <0x1e000e00 0x100>;
			reg-shift = <0x02>;
			clock-frequency = <0x2faf080>;
			resets = <0x02 0x15>;
			status = "disabled";
		};

		eth@1e100000 {
			compatible = "mediatek,mt7621-eth";
			reg = <0x1e100000 0xe000 0x1e110000 0x8000>;
			reg-names = "fe\0gmac";
			resets = <0x02 0x06 0x02 0x17 0x02 0x02>;
			reset-names = "fe\0gsw\0mcm";
			status = "okay";
			#address-cells = <0x01>;
			#size-cells = <0x00>;
		};

		mmc@1e130000 {
			compatible = "mediatek,mt7621-mmc";
			reg = <0x1e130000 0x4000>;
			r_smpl = <0x01>;
			clocks = <0x03>;
			clock-names = "source";
			resets = <0x02 0x1e>;
			status = "okay";
		};

		xhci@1e1c0000 {
			compatible = "mediatek,mt7621-xhci";
			reg = <0x1e1c0000 0x40000>;
			status = "okay";
			#address-cells = <0x01>;
			#size-cells = <0x00>;
		};

		i2c@0 {
			compatible = "i2c-gpio";
			i2c-gpio,delay-us = <0x03>;
			status = "disabled";
			#address-cells = <0x01>;
			#size-cells = <0x00>;
			gpios = <0x04 0x03 0x01 0x04 0x04 0x01>;
		};
	};

	binman {
		filename = "u-boot-mt7621.bin";
		pad-byte = <0xff>;

		blob {
			filename = "u-boot-mt7621-spl.bin";
			align-end = <0x10000>;
		};

		u-boot-lzma-img {
		};
	};
};